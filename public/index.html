<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Olho Alerta</title>
  <link rel="stylesheet" href="olhoalerta.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>

<body>

<header>
  <div class="header-content">

    <div class="logo">
      <img src="logo.png" alt="√çcone Olho Alerta" class="icon">
      <span class="titulo"><b>OLHO ALERTA</b></span>
    </div>

    <nav class="nav-links" id="navLinks">
      <a href="#inicio" onclick="mostrarPagina('inicio', event)">In√≠cio</a>
      <a href="#sobre" onclick="mostrarPagina('sobre', event)">Sobre</a>
      <a href="#tutorial" onclick="mostrarPagina('tutorial', event)">Tutorial</a>
      <a href="#denunciar" onclick="mostrarPagina('denunciar', event)">Denunciar</a>
      <a href="#contato" onclick="mostrarPagina('contato', event)">Contato</a>
    </nav>

    <button class="menu-toggle" id="menuToggle">‚ò∞</button>
  </div>
</header>

<main>

<section id="inicio" class="pagina ativa">
    <h1 class="titulo-principal">Olho Alerta: Um Projeto em prol da popula√ß√£o</h1>

    <p class="descricao" style="text-align: justify;">
        Aqui voc√™ pode fazer um pedido de acesso √† informa√ß√£o, fazer den√∫ncias, 
        elogios, reclama√ß√µes, solicita√ß√µes ou enviar sugest√µes.
    </p>

    <div class="botoes-container">
        <button class="botao" onclick="mostrarPagina('acesso')">üßæ Acesso √† informa√ß√£o</button>
        <button class="botao" onclick="mostrarPagina('denunciar')">üö® Registrar den√∫ncia</button>
        <button class="botao" onclick="mostrarPagina('feedback')">üëå Dar feedback</button>
        <button class="botao" onclick="mostrarPagina('sugestoes')">üí° Realizar sugest√µes</button>
    </div>

</section>

<section id="acesso" class="pagina">

  <div class="topo-acesso">
    <h1>üîç Central de Acesso √† Informa√ß√£o</h1>
    <p>Consulte dados p√∫blicos, solicite documentos oficiais e acompanhe tudo em um s√≥ lugar.</p>
  </div>

  <div class="busca-publica">
    <h2>üîé Consulta R√°pida</h2>
    <input type="text" placeholder="O que voc√™ deseja consultar?">
    
    <div class="categorias">
  <button onclick="preencherPedido('gastos p√∫blicos')">Gastos P√∫blicos</button>
  <button onclick="preencherPedido('obras p√∫blicas')">Obras</button>
  <button onclick="preencherPedido('contratos p√∫blicos')">Contratos</button>
  <button onclick="preencherPedido('sal√°rios')">Sal√°rios</button>
  <button onclick="preencherPedido('informa√ß√µes da educa√ß√£o')">Educa√ß√£o</button>
  <button onclick="preencherPedido('informa√ß√µes da sa√∫de')">Sa√∫de</button>
  <button onclick="preencherPedido('informa√ß√µes de transporte')">Transporte</button>
</div>
  </div>

  <div class="formulario-acesso">
    <h2>üìù Solicitar Informa√ß√£o Oficial</h2>

<form id="formDenuncia">

  <input type="text" id="nomeAcesso" placeholder="Nome (opcional)">

  <input type="email" id="emailAcesso" placeholder="E-mail para resposta" required>

  <select id="orgaoAcesso" name="orgao" required>
    <option value="">√ìrg√£o p√∫blico respons√°vel</option>
    <option>Prefeitura</option>
    <option>Secretaria de Sa√∫de</option>
    <option>Secretaria de Educa√ß√£o</option>
    <option>C√¢mara Municipal</option>
    <option>Outro</option>
</select>

<select id="tipoAcesso" name="tipo" required>
    <option value="">Tipo de informa√ß√£o solicitada</option>
    <option>Gastos p√∫blicos</option>
    <option>Contratos</option>
    <option>Obras p√∫blicas</option>
    <option>Servidores e sal√°rios</option>
    <option>Educa√ß√£o</option>
    <option>Sa√∫de</option>
    <option>Transporte</option>
    <option>Outros</option>
</select>

<textarea
    id="descricaoAcesso"
    name="descricao"
    required
    placeholder="Descreva de forma clara a informa√ß√£o desejada. Ex: Relat√≥rio de gastos com merenda escolar em 2024.">
</textarea>

<select id="formatoAcesso" name="formato">
    <option>Digital (PDF)</option>
    <option>Planilha (Excel)</option>
    <option>Texto simples</option>
</select>

<select id="finalidadeAcesso" name="finalidade">
    <option>Fiscaliza√ß√£o cidad√£</option>
    <option>Estudo ou pesquisa</option>
    <option>Uso pessoal</option>
    <option>Outros</option>
</select>

<button type="submit">üì© Enviar Pedido de Acesso</button>
</form>

  </div>
</section>
 <section id="feedback" class="pagina">

  <div class="topo-feedback">
    <h1>üí¨ √Årea de Feedback</h1>
    <p>Sua opini√£o √© essencial para melhorar nossos servi√ßos.</p>
  </div>

  <div class="form-feedback">
    <h2>‚úçÔ∏è Enviar Feedback</h2>

<form action="http://localhost:3000/feedbacks" method="POST">
  <input type="text" name="nome" id="nomeFeedback">

  <input type="email" name="email" id="emailFeedback">

  <select name="tipo" id="tipoFeedback" required>
    <option value="">Selecione</option>
    <option value="elogio">Elogio</option>
    <option value="reclamacao">Reclama√ß√£o</option>
  </select>

  <textarea name="descricao" id="descricaoFeedback" required></textarea>

  <button type="submit">Enviar</button>
</form>

  </div>

  <div class="feedbacks-recentes">
    <h2>üó£Ô∏è Feedbacks Recentes</h2>

    <div class="card-feedback">
      <strong>An√¥nimo:</strong>
      <p>Site muito f√°cil de usar! Parab√©ns pela iniciativa.</p>
    </div>

    <div class="card-feedback">
      <strong>Maria:</strong>
      <p>Seria legal ter uma √°rea para acompanhar den√∫ncias.</p>
    </div>

    <div class="card-feedback">
      <strong>Jo√£o:</strong>
      <p>Gostei bastante da √°rea de acesso √† informa√ß√£o.</p>
    </div>
  </div>

</section>

<section id="sugestoes" class="pagina">

  <div class="topo-sugestoes">
    <h1>üí° Envie sua Sugest√£o</h1>
    <p>Ajude a melhorar nossos servi√ßos com suas ideias e propostas.</p>
  </div>

  <div class="box-sugestao">
    <h2>‚úçÔ∏è Formul√°rio de Sugest√£o</h2>

<form action="http://localhost:3000/sugestoes" method="POST">
  <input type="text" name="nome" id="nomeSugestao">

  <input type="email" name="email" id="emailSugestao">

  <select name="tipo" id="tipoSugestao" required>
    <option value="">Selecione</option>
    <option value="servico">Servi√ßo</option>
    <option value="infraestrutura">Infraestrutura</option>
  </select>

  <textarea name="descricao" id="descricaoSugestao" required></textarea>

  <button type="submit">Enviar</button>
</form>
  </div>

  <div class="sugestoes-recentes">
    <h2>üìå Sugest√µes Recentes</h2>

    <div class="card-sugestao">
      <strong>An√¥nimo:</strong>
      <p>Seria √≥timo ter notifica√ß√µes por e-mail sobre o status das den√∫ncias.</p>
    </div>

    <div class="card-sugestao">
      <strong>Paulo:</strong>
      <p>Poderia existir um aplicativo do Olho Alerta.</p>
    </div>
  </div>

</section>

<section id="sobre" class="pagina">

    <section class="hero">
        <h1>Sobre o Projeto</h1>
        <p style="text-align: justify;">
            O Olho Alerta √© uma iniciativa criada para facilitar o registro de microproblemas 
            e situa√ß√µes que impactam o dia a dia dos cidad√£os. Aqui voc√™ encontra um sistema simples, 
            r√°pido e totalmente an√¥nimo, desenvolvido para tornar sua cidade ou ambiente de trabalho mais seguro e funcional.
        </p>
    </section>

    <section class="section">
        <h2>Nossa Miss√£o</h2>
        <p style="text-align: justify;">
            Tornar o ato de relatar problemas algo acess√≠vel, pr√°tico e sem burocracia, 
            permitindo que qualquer pessoa participe da manuten√ß√£o e melhoria dos espa√ßos p√∫blicos 
            e privados.
        </p>
    </section>

    <section class="section">
        <h2>O que oferecemos</h2>

        <div class="cards">
            <div class="card">
                <h3>‚úî Plataforma intuitiva</h3>
                <p>Relate situa√ß√µes em segundos e sem formul√°rios confusos.</p>
            </div>

            <div class="card">
                <h3>‚úî Total anonimato</h3>
                <p>A privacidade do cidad√£o √© prioridade ‚Äî nenhuma identifica√ß√£o √© exigida.</p>
            </div>

            <div class="card">
                <h3>‚úî Comunica√ß√£o eficiente</h3>
                <p>Os relatos podem ajudar setores p√∫blicos ou privados a agir mais r√°pido.</p>
            </div>

            <div class="card">
                <h3>‚úî Acesso √† informa√ß√£o</h3>
                <p>Pe√ßa informa√ß√µes oficiais de maneira organizada e com poucos cliques.</p>
            </div>
        </div>
    </section>

    <section class="section">
        <h2>Nosso Objetivo</h2>
        <p>
            Facilitar a vida da popula√ß√£o e promover ambientes mais seguros, funcionais, 
            transparentes e bem cuidados.
        </p>
    </section>

</section>

<section id="tutorial" class="pagina hidden">
    <h1 class="titulo-principal">Como usar o site</h1>

    <p>
        Este guia foi criado para ajudar cidad√£os e clientes a utilizarem o sistema de forma simples,
        r√°pida e sem complica√ß√µes. Siga o passo a passo e aprenda como navegar pelo site e realizar
        suas a√ß√µes com seguran√ßa.
    </p>

    <div class="tutorial-passos">
        
        <div class="passo">
            <h3>1. Acesse o Menu Principal</h3>
            <p>
                No topo da p√°gina, voc√™ encontrar√° o menu com as op√ß√µes <strong>In√≠cio</strong>, 
                <strong>Sobre</strong>, <strong>Tutorial</strong>, <strong>Denunciar</strong> e 
                <strong>Contato</strong>. Clique na aba desejada para acessar seu conte√∫do.
            </p>
        </div>

        <div class="passo">
            <h3>2. Leia as Informa√ß√µes Importantes</h3>
            <p>
                Cada aba cont√©m textos explicativos para orientar o usu√°rio. As informa√ß√µes s√£o organizadas
                em blocos para facilitar a leitura e deixar tudo mais claro.
            </p>
        </div>

        <div class="passo">
            <h3>3. Fa√ßa sua Den√∫ncia</h3>
            <p>
                Se voc√™ precisa reportar alguma irregularidade, acesse a aba <strong>Denunciar</strong>.
                L√° voc√™ encontrar√° um formul√°rio simples e direto para enviar sua den√∫ncia.
            </p>
        </div>

        <div class="passo">
            <h3>4. Entre em Contato</h3>
            <p>
                Caso tenha d√∫vidas ou precise de suporte, v√° at√© a aba <strong>Contato</strong>.
                Voc√™ poder√° enviar mensagens diretamente para nossa equipe, que responder√° o mais r√°pido poss√≠vel.
            </p>
        </div>

        <div class="passo">
            <h3>5. Navega√ß√£o R√°pida</h3>
            <p>
                Todas as p√°ginas foram feitas para serem f√°ceis de usar tanto no computador quanto no celular.  
                Caso algo n√£o funcione como esperado, recarregue a p√°gina ou tente acessar novamente pelo menu.
            </p>
        </div>

    </div>
</section>

<section id="denunciar" class="pagina hidden">

    <h2>Denunciar Irregularidade</h2>

    <p class="intro-denuncia">
        Utilize este formul√°rio para reportar irregularidades de forma segura e confidencial.
        A sua identidade ser√° protegida e voc√™ pode escolher enviar sua den√∫ncia anonimamente.
    </p>

    <div class="aviso-denuncia">
        <strong>Aten√ß√£o:</strong>
        <ul>
            <li>Forne√ßa o m√°ximo de detalhes poss√≠vel sobre o ocorrido.</li>
            <li>O envio de anexos √© opcional.</li>
            <li>Den√∫ncias falsas podem prejudicar investiga√ß√µes.</li>
        </ul>
    </div>

<form class="form-denuncia" 
      action="http://localhost:3000/denuncias" 
      method="POST">

       <select id="tipoDenuncia" name="tipo" required>
            <option value="">Selecione...</option>
            <option>Ilumina√ß√£o P√∫blica</option>
            <option>Infraestrutura e Vias P√∫blicas</option>
            <option>Meio ambiente e Limpeza urbana</option>
            <option>Pertuba√ß√£o do Sossego</option>
            <option>Tr√¢nsito e Transporte p√∫blico</option>
            <option>Outra</option>
        </select>

  <textarea name="descricao" id="descricaoDenuncia" required></textarea>

        <label for="local">Local da Ocorr√™ncia:</label>
        <input type="text" id="endereco" name="endereco" placeholder="Ex: Rua X, Setor Y">

        <label for="data">Data Aproximada:</label>
        <input type="date" id="data" name="data">

        <label for="anexo">Anexar Provas (opcional):</label>
        <input type="file" id="anexo" name="anexo" accept="image/*,.pdf,.mp4,.mov">

        <label for="identificacao">Deseja se identificar?</label>
        <select id="identificacao" name="identificacao">
            <option value="anonimo">Enviar anonimamente</option>
            <option value="identificado">Prefiro me identificar</option>
        </select>

        <div id="dadosIdentificacao" class="hidden ident-box">
            
        <div class="formulario">
            <div class="campo">
                <label for="nome">Nome Completo:</label>
            <input type="text" id="nome" name="nome" placeholder="Seu nome" style="padding-right: 5px;"><br>
            </div>
            
            <div class="campo">
                <label for="email">E-mail:</label>
            <input type="email" id="email" name="email" placeholder="email@exemplo.com"><br>
            </div>
            
            <div class="campo">
                <label for="telefone">Telefone (opcional):</label>
            <input type="tel" id="telefone" name="telefone" placeholder="(xx) xxxxx-xxxx">
            </div>
        </div>
    </div>

        <button type="submit" class="btn-enviar">Enviar Den√∫ncia</button>

    </form>

    <p class="sigilo">
        Todas as informa√ß√µes enviadas s√£o tratadas com total confidencialidade.
        Se a op√ß√£o an√¥nima for escolhida, nenhum dado pessoal ser√° coletado.
    </p>

</section>


<section id="contato" class="pagina">

  <h1 class="titulo-contato">Entre em Contato</h1>
  <p class="sub-contato">
    Precisa de ajuda, tem d√∫vidas ou deseja falar com nossa equipe?
    Preencha o formul√°rio abaixo.
  </p>

  <div class="contato-container">

<form action="" method="POST">

  <input type="text" name="nome" id="nomeContato">

  <input type="email" name="email" id="emailContato" required>

  <input type="text" name="telefone" id="telefoneContato">

  <textarea name="descricao" id="mensagemContato" required></textarea>

  <button type="submit">Enviar</button>
</form>

    <div class="info-contato">
      <h2>Informa√ß√µes</h2>
      <p><strong>E-mail:</strong><br> suporte@olhoalerta.com</p>
      <p><strong>Telefone:</strong><br> (11) 90000-0000</p>
      <p><strong>Hor√°rio:</strong><br> Segunda a Sexta, 08h √†s 18h</p>
    </div>

  </div>
</section>

</main>

<footer>
    <div class="redes">
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/1384/1384063.png"></a>
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/733/733579.png"></a>
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/5968/5968764.png"></a>
    </div>
</footer>

<script>

/* =========================
   CATEGORIAS (BUSCA)
========================= */
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll(".categorias button").forEach(botao => {
    botao.addEventListener("click", () => {
      const campoBusca = document.querySelector(".busca-publica input");
      if (campoBusca) campoBusca.value = botao.innerText;
    });
  });
});

/* =========================
   MENU MOBILE
========================= */
const menuToggle = document.getElementById("menuToggle");
const navLinks = document.getElementById("navLinks");

menuToggle.addEventListener("click", () => {
  navLinks.classList.toggle("active");
});

/* =========================
   NAVEGA√á√ÉO DE P√ÅGINAS
========================= */
function mostrarPagina(id, event) {
  document.querySelectorAll(".pagina").forEach(p => p.classList.remove("ativa"));
  document.getElementById(id).classList.add("ativa");

  document.querySelectorAll(".nav-links button")
    .forEach(b => b.classList.remove("ativo"));

  if (event?.target) event.target.classList.add("ativo");

  navLinks.classList.remove("active");
  window.scrollTo(0, 0);
}

document.addEventListener("click", (e) => {
  if (!navLinks.contains(e.target) && !menuToggle.contains(e.target)) {
    navLinks.classList.remove("active");
  }
});

const selectIdentificacao = document.getElementById("identificacao");
const boxIdentificacao = document.getElementById("dadosIdentificacao");

selectIdentificacao.addEventListener("change", () => {
  if (selectIdentificacao.value === "identificado") {
    boxIdentificacao.classList.remove("hidden");
  } else {
    boxIdentificacao.classList.add("hidden");
  }
});
document.addEventListener("DOMContentLoaded", () => {

  function enviarFormulario(formId, url, campos) {
    const form = document.getElementById(formId);

    form.addEventListener("submit", async (e) => {
      e.preventDefault(); // impede o recarregamento da p√°gina

      // pega os dados do formul√°rio
      const dados = {};
      campos.forEach(c => {
        const el = document.getElementById(c);
        if(el) dados[c] = el.value.trim();
      });

      // altera o bot√£o para "Enviando..."
      const botao = form.querySelector("button[type='submit']");
      const textoOriginal = botao.innerText;
      botao.innerText = "Enviando...";

      try {
        const res = await fetch(url, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(dados)
        });

        if(res.ok){
          alert("‚úÖ Enviado com sucesso!");
          form.reset();
        } else {
          alert("‚ùå Erro ao enviar!");
        }
      } catch(err){
        alert("‚ùå Erro ao enviar!");
        console.error(err);
      } finally {
        botao.innerText = textoOriginal;
      }
    });
  }

  // DEN√öNCIAS
  enviarFormulario("formDenuncia", "/denuncias", [
    "tipoDenuncia", "descricaoDenuncia", "enderecoDenuncia", "data", "identificacao", "nome", "email", "telefone"
  ]);

  // SUGEST√ïES
  enviarFormulario("formSugestao", "/sugestoes", [
    "nomeSugestao", "emailSugestao", "tipoSugestao", "descricaoSugestao"
  ]);

  // FEEDBACK
  enviarFormulario("formFeedback", "/feedbacks", [
    "nomeFeedback", "emailFeedback", "tipoFeedback", "descricaoFeedback"
  ]);

  // CONTATO
  enviarFormulario("formContato", "/contatos", [
    "nomeContato", "emailContato", "telefoneContato", "mensagemContato"
  ]);

  // ACESSO
  enviarFormulario("formAcesso", "/acessos", [
    "nomeAcesso", "emailAcesso", "orgaoAcesso", "tipoAcesso", "descricaoAcesso", "formatoAcesso", "finalidadeAcesso"
  ]);

});
function mostrarPagina(id, event) {
  if (event) event.preventDefault();

  document.querySelectorAll(".pagina").forEach(p => p.classList.remove("ativa"));
  document.getElementById(id).classList.add("ativa");

  history.pushState({ pagina: id }, "", "#" + id);
  window.scrollTo(0, 0);

  navLinks.classList.remove("active");
}

window.addEventListener("popstate", () => {
  const pagina = location.hash.replace("#", "") || "inicio";
  document.querySelectorAll(".pagina").forEach(p => p.classList.remove("ativa"));
  document.getElementById(pagina).classList.add("ativa");
});

/* =========================
   ENVIO DE FORMUL√ÅRIOS (SEM REDIRECIONAR)
========================= */
document.querySelectorAll("form").forEach(form => {
  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const dados = {};
    form.querySelectorAll("input, select, textarea").forEach(el => {
      if (el.name) dados[el.name] = el.value;
    });

    await fetch(form.action, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(dados)
    });

    const pagina = form.closest(".pagina").id;
    const nome =
      pagina === "sugestoes" ? "Sugest√£o" :
      pagina === "denunciar" ? "Den√∫ncia" :
      pagina === "feedback"  ? "Feedback" :
      pagina === "contato"   ? "Mensagem" :
      pagina === "acesso"    ? "Pedido de acesso" :
      "Formul√°rio";

    alert("‚úÖ " + nome + " enviada");
    form.reset();
  });
});

/* =========================
   P√ÅGINA INICIAL PELO HASH
========================= */
document.addEventListener("DOMContentLoaded", () => {
  const pagina = location.hash.replace("#", "") || "inicio";
  mostrarPagina(pagina);
});
</script>

</body>
</html>